<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="cropped_image.png" type="image/x-icon" />
    <title>Players Details</title>
    <link href="style.css" />
    <style>
      /* Modal styling */
      .modalPlayers {
        display: none; /* Hidden by default */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
        padding-top: 60px;
        text-align: center;
      }

      /* Modal content */
      .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 600px;
        border-radius: 8px;
        height: 300px;
      }

      /* Close button */
      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }

      .close:hover,
      .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
      }
      .modal-content img {
        width: 100%;
        height: 270px;
      }
      @media (max-width: 480px) {
        .modal-content {
          height: 170px;
        }
        .modal-content img {
          height: 135px;
        }
      }
    </style>
  </head>
  <body>
    <div id="navbar-placeholder"></div>
    <section class="section">
      <h1>Player Details</h1>
    </section>
    <div class="season-selector">
      <label class="season-select" for="season-dropdown">Select Season:</label>
      <select id="season-dropdown">
        <option value="season1">Season 1</option>
        <option value="season2">Season 2</option>
      </select>
    </div>

    <!-- Container for displaying multiple team cards -->
    <div id="team-cards-container" class="team-cards-container">
      <!-- Cards will be dynamically added here -->
    </div>

    <!-- Modal for showing the team details -->
    <div id="teamModal" class="modalPlayers">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2 id="modalPlayerName">Player Name</h2>
        <img id="modalImage" src="" alt="Player Image" />
        <!-- <p id="modalDescription">Player description will appear here.</p> -->
      </div>
    </div>

    <script>
      // Example data for each season
      /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

      /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      const seasonData = {
        season1: [
          {
            imgSrc: "/Images/Players/Season1/Dip.jpg",
            title: "Dip Regmi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Dip's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Sujan.jpg",
            title: "Sujan Dahal",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Sujan's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Sudip.jpg",
            title: "Sudip Dahal",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Sudip's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Bijay.jpg",
            title: "Bijay Subedi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Bijay's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Samrat.jpg",
            title: "Samrat Subedi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Samrat's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Ishor.jpg",
            title: "Ishor Kattel",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Ishor's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Mausam.jpg",
            title: "Mausam Limbu",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Mausam's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Prabesh.jpg",
            title: "Prabesh Parajuli",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Prabesh's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season1/Roman.jpg",
            title: "Roman Budathoki",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season1/Roman's .jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
        ],
        season2: [
          {
            imgSrc: "/Images/Players/Season2/Dip.jpg",
            title: "Dip Regmi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Dip's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season2/Pujan.jpg",
            title: "Pujan Dahal",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Pujan's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season2/Bijay.jpg",
            title: "Bijay Subedi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Bijay's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season2/Sujan.jpg",
            title: "Sujan Dahal",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Sujan's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season2/Sudip.jpg",
            title: "Sudip Dahal",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Sudip's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
          {
            imgSrc: "/Images/Players/Season2/Samrat.jpg",
            title: "Samrat Subedi",
            description: "Description for Player 1",
            modalImgSrc: "/Images/Players/Season2/Samrat's Team.jpg", // Add a detailed image for the modal
            // modalDescription: "Detailed description for Dip Regmi",
          },
        ],
        //////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      };

      // Set default season to 'season2' when the page loads
      document.addEventListener("DOMContentLoaded", function () {
        const seasonDropdown = document.getElementById("season-dropdown");

        // Set 'season2' as the default value for the dropdown
        seasonDropdown.value = "season2";

        // Call the function to load content for season 2 when the page loads
        updateSeasonContent();

        // Event listener to update the cards when the season changes
        seasonDropdown.addEventListener("change", updateSeasonContent);
      });

      // Function to update the cards based on the selected season
      function updateSeasonContent() {
        const selectedSeason = document.getElementById("season-dropdown").value;
        const teamCardsContainer = document.getElementById(
          "team-cards-container"
        );

        // Clear any existing cards
        teamCardsContainer.innerHTML = "";

        // Get the data for the selected season
        const seasonPlayers = seasonData[selectedSeason];

        // Loop through the players and create a card for each one
        seasonPlayers.forEach((player) => {
          const card = document.createElement("div");
          card.classList.add("team-card");

          // Create image element
          const img = document.createElement("img");
          img.src = player.imgSrc;
          img.alt = player.title;
          card.appendChild(img);

          // Create title element
          const title = document.createElement("h3");
          title.innerText = player.title;
          card.appendChild(title);

          // Create button element
          const button = document.createElement("button");
          button.innerText = "View Team";
          button.onclick = function () {
            openModal(player);
          };
          card.appendChild(button);

          // Append the card to the container
          teamCardsContainer.appendChild(card);
        });
      }

      // Function to open the modal and display the player details
      function openModal(player) {
        const modal = document.getElementById("teamModal");
        const modalPlayerName = document.getElementById("modalPlayerName");
        const modalImage = document.getElementById("modalImage");

        // Update modal content with player data
        modalPlayerName.innerText = player.title;
        modalImage.src = player.modalImgSrc; // Set detailed image for the modal

        // Display the modal
        modal.style.display = "block";
      }

      // Function to close the modal
      document.getElementById("closeModal").onclick = function () {
        const modal = document.getElementById("teamModal");
        modal.style.display = "none";
      };

      // Close the modal if the user clicks anywhere outside the modal
      window.onclick = function (event) {
        const modal = document.getElementById("teamModal");
        if (event.target === modal) {
          modal.style.display = "none";
        }
      };

      // Fetch and insert the navbar
      fetch("base.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar-placeholder").innerHTML = data;

          // Ensure JavaScript for active link is executed after navbar is loaded
          const currentPage = window.location.pathname.split("/").pop(); // Get the current page name
          const navbarLinks = document.querySelectorAll(".navbar-item a"); // Get all navbar links

          navbarLinks.forEach((link) => {
            const linkPage = link.getAttribute("href").split("/").pop(); // Get the page name from the href

            if (currentPage === linkPage) {
              link.classList.add("active"); // Add the 'active' class to the current link
            }
          });
        });
    </script>
  </body>
</html>
